# トラブルシューティングガイド

執筆ガイドライン改善システムの使用中に発生する可能性のある問題とその解決方法をまとめています。

## 目次

1. [よくある問題と解決方法](#よくある問題と解決方法)
2. [エラーレベル別の対処法](#エラーレベル別の対処法)
3. [システム関連の問題](#システム関連の問題)
4. [緊急時の対応](#緊急時の対応)
5. [予防策](#予防策)
6. [サポート情報](#サポート情報)

## よくある問題と解決方法

### 1. Cursor関連の問題

#### 問題: Cursorがルールを認識しない

**症状:**
- 自動チェックが動作しない
- 修正提案が表示されない
- エラーメッセージが表示される

**原因:**
- ルールファイルのパスが正しくない
- 正規表現パターンにエラーがある
- Cursorの設定が正しくない

**解決方法:**
1. ルールファイルの存在確認
   ```bash
   ls -la cursor-rules/
   ```

2. 正規表現パターンの構文チェック
   ```bash
   # patterns.mdの正規表現を確認
   cat cursor-rules/patterns.md
   ```

3. Cursorの設定確認
   - ファイルパスの設定
   - ルールファイルの参照設定

#### 問題: 修正提案が具体的でない

**症状:**
- 修正提案が抽象的
- Before/Afterの例が不十分
- 修正方法が不明確

**解決方法:**
1. `before-after-examples.md`を参照
   ```bash
   cat cursor-rules/before-after-examples.md
   ```

2. 具体的な修正例を確認
   ```bash
   cat cursor-rules/correction-examples.md
   ```

3. サンプルファイルとの比較
   ```bash
   # sampleフォルダの例文を参考にする
   ```

### 2. チェックリスト関連の問題

#### 問題: チェックリストの項目が多すぎる

**症状:**
- チェック項目が多すぎて時間がかかる
- 優先度が不明確
- 執筆段階に応じた使い方がわからない

**解決方法:**
1. 執筆段階別のチェック項目を確認
   ```bash
   cat checklists/README.md
   ```

2. 優先度の高い項目から確認
   - 高優先度: 見出し構造、文章構成
   - 中優先度: 約物・記号
   - 低優先度: 細かな表記統一

3. 段階的チェックの実施
   - アウトライン作成時: outline-checklist.md
   - 本文執筆時: sentence-checklist.md
   - 推敲時: 全チェックリスト
   - 最終確認時: notation-checklist.md

#### 問題: チェックリストの項目が理解できない

**症状:**
- チェック項目の意味がわからない
- 修正方法が不明確
- 例文が不十分

**解決方法:**
1. 対応するルールファイルを確認
   ```bash
   cat cursor-rules/outline-rules.md
   cat cursor-rules/sentence-rules.md
   cat cursor-rules/notation-rules.md
   ```

2. 具体的な例文を確認
   ```bash
   cat cursor-rules/before-after-examples.md
   ```

3. サンプルファイルを参考にする
   ```bash
   # sampleフォルダの例文を確認
   ```

### 3. ルール関連の問題

#### 問題: ルールが厳しすぎる

**症状:**
- 多くのエラーが検出される
- 修正が困難
- 執筆の効率が下がる

**解決方法:**
1. エラーレベルの確認
   ```bash
   cat cursor-rules/error-levels.md
   ```

2. 優先度の調整
   - エラー: 必ず修正
   - 警告: 可能な範囲で修正
   - 情報: 参考程度

3. ルールの調整
   - 必要に応じてルールファイルを編集
   - 著者のフィードバックを反映

#### 問題: ルールが不足している

**症状:**
- 重要な問題が検出されない
- チェック項目が不十分
- 新しい問題に対応できない

**解決方法:**
1. 新しいルールの追加
   ```bash
   # 新しいルールをpatterns.mdに追加
   vim cursor-rules/patterns.md
   ```

2. チェックリストの更新
   ```bash
   # 対応するチェックリストを更新
   vim checklists/*-checklist.md
   ```

3. テストの実行
   ```bash
   # サンプルファイルでの動作確認
   ```

## エラーレベル別の対処法

### エラーレベル（必ず修正）

**対処法:**
1. 即座に修正を実行
2. 修正例を参考にする
3. 修正後の再チェック

**例:**
- 見出し構造の重大な問題
- 文章構成の根本的な問題
- 表記の重大な不統一

### 警告レベル（可能な範囲で修正推奨）

**対処法:**
1. 時間的余裕があれば修正
2. 優先度を考慮して修正
3. 段階的に修正を実施

**例:**
- 冗長表現の簡略化
- 約物の使用基準
- 細かな表記の統一

### 情報レベル（参考程度）

**対処法:**
1. 参考情報として確認
2. 必要に応じて対応
3. 優先度は低く設定

**例:**
- 改善提案
- 参考情報
- 追加の改善点

## システム関連の問題

### 問題: ファイルが見つからない

**症状:**
- ファイルパスエラー
- ファイルが存在しない
- 権限エラー

**解決方法:**
1. ファイルの存在確認
   ```bash
   ls -la
   ls -la cursor-rules/
   ls -la checklists/
   ```

2. パスの確認
   ```bash
   pwd
   ```

3. 権限の確認
   ```bash
   ls -la *.md
   ```

### 問題: システムが動作しない

**症状:**
- コマンドが実行できない
- エラーメッセージが表示される
- 期待通りの動作をしない

**解決方法:**
1. システム要件の確認
   - Cursorのバージョン
   - 必要なファイルの存在
   - 権限設定

2. ログの確認
   ```bash
   # エラーログの確認
   cat test-results.md
   ```

3. 再インストール・再設定
   - 必要に応じてシステムの再設定

### 問題: パフォーマンスが悪い

**症状:**
- チェックに時間がかかる
- システムが重い
- レスポンスが遅い

**解決方法:**
1. 不要なファイルの削除
2. キャッシュのクリア
3. システムリソースの確認

## 緊急時の対応

### システムが完全に動作しない場合

1. 基本的なファイルの確認
   ```bash
   ls -la
   cat USAGE.md
   ```

2. 最小限の設定で動作確認
   ```bash
   cat cursor-rules/patterns.md
   ```

3. 必要に応じてシステムの再構築

### データが失われた場合

1. Gitでの復旧
   ```bash
   git log
   git checkout <commit-hash>
   ```

2. バックアップからの復旧
   - 事前にバックアップを取っている場合

### 重要なファイルが削除された場合

1. Gitでの復旧
   ```bash
   git status
   git restore <filename>
   ```

2. 手動での復旧
   - バックアップからの復元

## 予防策

### 定期的なメンテナンス

1. **週次**: テストの実行
   ```bash
   # テストの実行
   cat test-results.md
   ```

2. **月次**: ルールの見直し
   ```bash
   # ルールファイルの確認
   cat cursor-rules/patterns.md
   ```

3. **四半期**: システム全体の確認
   ```bash
   # 全体の確認
   ls -la
   ```

### バックアップ

1. **Gitでのバージョン管理**
   ```bash
   git add .
   git commit -m "定期バックアップ"
   ```

2. **重要なファイルのバックアップ**
   - 設定ファイル
   - ルールファイル
   - チェックリスト

3. **設定ファイルのバックアップ**
   - Cursorの設定
   - プロジェクト設定

### 監視とログ

1. **エラーログの確認**
   ```bash
   cat test-results.md
   cat checklist-test-results.md
   ```

2. **定期的な動作確認**
   - サンプルファイルでのテスト
   - チェックリストの動作確認

## サポート情報

### ログファイル

- `test-results.md`: テスト結果
- `checklist-test-results.md`: チェックリストテスト結果

### 参考資料

- `cursor-rules/README.md`: ルールファイルの説明
- `checklists/README.md`: チェックリストの説明
- `USAGE.md`: 使用方法ガイド

### 更新履歴

- システムの変更履歴は`plan.md`で確認
- 各ファイルの更新履歴はGitで確認

### 問い合わせ先

問題が解決しない場合は、以下の情報を添えて問い合わせてください：

1. **発生した問題の詳細**
   - 具体的な症状
   - 発生した状況
   - 再現手順

2. **実行したコマンド**
   - 実行したコマンドの履歴
   - エラーメッセージ

3. **システム環境情報**
   - OSのバージョン
   - Cursorのバージョン
   - ファイル構成

4. **ログファイル**
   - エラーログ
   - テスト結果

5. **試行した解決方法**
   - 試行した対処法
   - 結果

### 緊急連絡先

緊急時は以下の手順で対応してください：

1. **即座に作業を停止**
2. **エラーメッセージを記録**
3. **システム状態を確認**
4. **必要に応じて復旧作業を実行**

### よくある質問（FAQ）

**Q: システムが動作しません**
A: 基本的なファイルの存在確認から始めてください。

**Q: 修正提案が表示されません**
A: ルールファイルのパスと設定を確認してください。

**Q: チェックリストが多すぎます**
A: 執筆段階に応じて優先度の高い項目から確認してください。

**Q: エラーが多すぎます**
A: エラーレベルを確認し、優先度の高いものから修正してください。 