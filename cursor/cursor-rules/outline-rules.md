# 見出し構造ルール

Cursorが自動チェックしやすい見出し構造のルールです。

## 基本原則

### 1. ストーリー性の確保

**目的**: どの階層の見出しまで読んでもストーリーが理解できる

**チェック方法**:
1. 章タイトルのみを読む
2. 章・節レベルの目次を読む
3. 全詳細目次を読む
4. 各段階でストーリーが理解できるか確認

**修正例**:
```markdown
Before:
# アーキテクチャ
## 設計
## 実装

After:
# システムアーキテクチャ ── 全体設計から実装まで
## 設計 ── 要件を満たすシステム構造
## 実装 ── 設計に基づく具体的な実装
```

### 2. 説明的な見出し

**目的**: 見出しだけで意味がわかる説明的な見出しにする

**検出パターン**:
```regex
^#{1,6}\s+[A-Za-z]+$
```

**修正例**:
```markdown
Before:
# Boxen

After:
# BoxenによるMacの環境構築＆構成管理
```

### 3. 見出しだけで答えがわかる

**目的**: 見出しを読むだけで具体的な内容が理解できる

**修正例**:
```markdown
Before:
# Webページの速度とは何か

After:
# Webページの速度とは何か
## ページロードの速度 ── ページが表示されるまでの速度
## ランタイムの速度 ── ページ上での操作に対するUIの応答速度
```

## 避けるべき見出し

### 1. 見出しの連続

**検出パターン**:
```regex
^#{1,6}\s+.*\n^#{1,6}\s+.*
```

**修正例**:
```markdown
Before:
# スクラムとは何か
## スクラムの基本ルール

After:
# スクラムとは何か

ここでは、スクラムとは何かを説明していきます。

## スクラムの基本ルール
```

### 2. 「◯◯について」形式

**検出パターン**:
```regex
^#{1,6}\s+.*について$
```

**修正例**:
```markdown
Before:
# Webサーバの導入について

After:
# Webサーバの導入
```

### 3. 「AとB」形式

**検出パターン**:
```regex
^#{1,6}\s+.*と.*$
```

**修正例**:
```markdown
Before:
# 変数と定数

After:
# 変数と定数による値の管理
```

### 4. 読解力が必要な構成

**検出パターン**:
```regex
^#{1,6}\s+.*[0-9]+：.*$
```

**修正例**:
```markdown
Before:
# ハムエッグのレシピ
## 材料1：ハム
## 材料2：卵
## 材料3：油
## 手順1：油を引く
## 手順2：ハムを炒める
## 手順3：卵を割る

After:
# ハムエッグのレシピ
## 材料
### ハム
### 卵
### 油
## 手順
### 油を引く
### ハムを炒める
### 卵を割る
```

## 見出し末尾の命名規則

### 基本原則
- 基本は名詞的表現（体言止め）
- 動詞的表現（用言止め）は特定の箇所のみ使用

### 例
```markdown
○ 名詞的表現: 「○○のインストール」「○○の設定」
○ 動詞的表現: 「○○をインストールする」「○○を設定する」
```

## エラー・警告レベル

### エラーレベル（必須修正）
- 見出しの連続
- 読解力が必要な見出し構成

### 警告レベル（推奨修正）
- 不適切な見出し命名（「◯◯について」「AとB」）
- 説明的でない見出し

### 情報レベル（参考）
- 見出し末尾の命名規則の不統一

## 修正提案テンプレート

### 見出し連続の場合
```
**検出**: 見出しの連続
**修正前**: [実際の見出し]
**修正後**: [修正後の見出し]
**理由**: 見出し間に本文を挿入して、読者の理解を助ける
```

### 不適切な命名の場合
```
**検出**: 不適切な見出し命名
**修正前**: [実際の見出し]
**修正後**: [修正後の見出し]
**理由**: 説明的な見出しにして、内容を明確に伝える
```

## 自動検出パターン一覧

| パターン | 正規表現 | レベル | 修正内容 |
|---------|---------|--------|----------|
| 見出し連続 | `^#{1,6}\s+.*\n^#{1,6}\s+.*` | エラー | 本文挿入 |
| 「◯◯について」 | `^#{1,6}\s+.*について$` | 警告 | 説明的見出しに変更 |
| 「AとB」 | `^#{1,6}\s+.*と.*$` | 警告 | 説明的見出しに変更 |
| 単独固有名詞 | `^#{1,6}\s+[A-Za-z]+$` | 警告 | 説明的見出しに変更 |
| 番号付き見出し | `^#{1,6}\s+.*[0-9]+：.*$` | エラー | 階層構造に変更 | 